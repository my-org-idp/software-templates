resources:
  requests:
    cpu: ${{values.resources_requests_cpu}}
    memory: ${{values.resources_requests_memory}}
  limits:
    cpu: ${{values.resources_limit_cpu}}
    memory: ${{values.resources_limit_memory}}
    
hpa:
  enabled: ${{values.HPAenabled}}
  minReplicas: ${{values.HPAminReplicas}}
  maxReplicas: ${{values.HPAmaxReplicas}}
  targetCPUUtilizationPercentage: ${{values.HPAtargetCPUUtilizationPercentage}}
  {%- if values.HPAmetrics |length > 0 %}
  metrics: 
  {%- for value in values.HPAmetrics  %}
  - ${{ value }}
  {%- endfor %}
  {%- else %}
  metrics: []
  {%- endif %}

{% if values.Environment  | length > 0 -%}
env:
{%- for kv in values.Environment  %}
${{ kv.Key }}: ${{ kv.Value }}
{%- endfor %}
{% endif -%}